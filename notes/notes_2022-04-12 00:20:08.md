# Session #2

Obiously had not much time to write down other information, but my eyes got me looking on something interesting

I decided to decode that Ether flipper bot's transaction.

## Smart contract #1 (0x58418d6c83EfAB01ed78b0AC42E55af01eE77DbA)
1. See this [tx](https://etherscan.io/tx/0x133ec8a9bcbf487b0d3fe6fbbde5e0d6a429e2e4484a7f7d0b62680419543366/advanced)

Values decoded
```js
// METHOD 0x00000052
0x0000000000000000000000000000000000000000000000000000000000de40a9
14565545 // tx block number
0x0000000000000000000000000000000000000000000000001494f93b603e5462
1483084210724820000 // amountIn. Diff with real swapped amount is 66WEI
// So we can suppose the connection to the node is very fast and slippage applied should near zero
// Weird though why it's not the same, probably price changed in prev 1-2 blocks
0x000000000000000000000000f4d2888d29d722226fafa5d9b24f9164c092421e
// input token address
0x000000000000000000000000dc00ba87cc2d99468f7f34bc04cbf72e111a32f7
// First swap pair address
0x0000000000000000000000004b5ab61593a2401b1075b90c04cbcdd3f87ce011
// Second swap pair address
0x0000000000000000000000000000000000000000000000000000000000000001
1
// ???
0000000000000000000000000000000000000000000000000000000000000000
0
// ???
```

2. See this [tx](0x88ccf49a5cb35dfafeb9638af689af53169a030acac8c8e0e27a28e10b7280cb)
```js
// METHOD 0x00000073
0x0000000000000000000000000000000000000000000000000000000000de44bb
14566587 // Block No.
0x000000000000000000000000000000000000000000000002eb54323dd13c8b8f
53850721885460660000 // amountIn (tx amount - 53850721885460663183, 3183WEI diff)
0x0000000000000000000000004d224452801aced8b2f0aebe155379bb5d594381
// token adress APE
0x000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb48
// token2 address (probably that's path[] incoded) (USDC)
0x000000000000000000000000ac4b3dacb91461209ae9d41ec517c2b9cb1b7daf
// first pair address (WETH-APE)
0x000000000000000000000000b07fe2f407f971125d4eb1977f8acee8846c7324
// second pair address (APE-USDC)
0x000000000000000000000000397ff1542f962076d0bfe58ea045ffa2d347aca0
// third pair address (USDC-WETH)
0x0000000000000000000000000000000000000000000000000000000000000000
// 0 ??
0x0000000000000000000000000000000000000000000000000000000000000000
// 0 ??
0x0000000000000000000000000000000000000000000000000000000000000001
// 1 ??
```

It's also proven that if block number passed in transaction does not much the `block.number`, tx reverts

Another thing to notice is that transaction lands in the block as early as on [0-5] position

## Smart Contract 2 (0x2a8f327085d733a3dba191b3647818415a84ff28)
I found a new smart contract deployed, that interacts with the same bot

It's rarely used, but let's deep into txs.

Let's see this [tx](https://etherscan.io/tx/0x528f0a0e6e90a36d6ca96ed2f730e257a4ea4965e1908886f6a82ebd1719f17f)
```js
// METHOD 0x0000000e0
0x0000000000000000000000000000000000000000000000000000000000de4519
14566681 // block number
0x000000000000000000000000000000000000000000000000558f71963415e71d
6165271304826382000 // amountIn (Input diff - 109WEI)
0x0000000000000000000000000000000000000000000000000000000000000080
128 // ???
0x0000000000000000000000000000000000000000000000000000000000000120
288 // ???
0x0000000000000000000000000000000000000000000000000000000000000004
4 // ???
0x000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2
// input token (WETH)
0x000000000000000000000000903bef1736cddf2a537176cf3c64579c3867a881
// token2 (ICHI)
0x0000000000000000000000001f573d6fb3f13d689ff844b4ce37794d79a7ff1c
// token3 (BANTOR) - supposedly path[]
0x000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2
// output token (WETH)
0x0000000000000000000000000000000000000000000000000000000000000003
// 3 - hops number?
0x0000000000000000000000009cd028b1287803250b1e226f0180eb725428d069
// Sushi pair address (WETH-ICHI
0x000000000000000000000000000000000000000000000000000000000000000e
// 14??
0x000000000000000000000000000000000000000000000000000000000000000e
// 14??
```

I suppose he has a state with array of swap protocols and the last values he inserts are indexes in those swap protocols. May be they are generalized in a single interface with a library for simpler usage

Contract hadn't that many calls so let's try to decode contract creation call
**UPD:** Impossible, nevermind